schema: '2.0'
stages:
  load_dataset:
    cmd: python ./src/data/load_dataset.py
    deps:
    - path: ./src/data/load_dataset.py
      hash: md5
      md5: d58bb455b8d0d6a6760e593e2297d2c7
      size: 2114
    params:
      params.yaml:
        load_dataset.drive_link: 
          https://drive.google.com/file/d/1FCVWcNyBX6tFYjfORhnAvIwS8I8zV92j/view?usp=sharing
        load_dataset.file_name: wineq
        load_dataset.raw_data: /data/raw
    outs:
    - path: ./data/raw/wineq.csv
      hash: md5
      md5: 3155f71c567752e38f24f887ce0c4ef8
      size: 72970
  make_dataset:
    cmd: python ./src/data/make_dataset.py
    deps:
    - path: ./data/raw/wineq.csv
      hash: md5
      md5: 3155f71c567752e38f24f887ce0c4ef8
      size: 72970
    - path: ./src/data/make_dataset.py
      hash: md5
      md5: 46f26b9977af3624cfca1ccadbdb7717
      size: 3700
    params:
      params.yaml:
        load_dataset.file_name: wineq
        load_dataset.raw_data: /data/raw
        make_dataset.processed_data: /data/processed
        make_dataset.res_seed: 42
        make_dataset.seed: 42
        make_dataset.test_split: 0.25
    outs:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 09c52f19244ae3108cfee641c0e11edb
      size: 104202
    - path: ./data/processed/train.csv
      hash: md5
      md5: e4ded79da62e1694a148d575c7014900
      size: 315101
  build_features:
    cmd: python ./src/features/build_features.py
    deps:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 09c52f19244ae3108cfee641c0e11edb
      size: 104202
    - path: ./data/processed/train.csv
      hash: md5
      md5: e4ded79da62e1694a148d575c7014900
      size: 315101
    - path: ./src/features/build_features.py
      hash: md5
      md5: ac74288d13827cfe74b370cb76d4a8df
      size: 3229
    params:
      params.yaml:
        build_features.extended_data: /data/extended
        make_dataset.processed_data: /data/processed
    outs:
    - path: ./data/extended/extended_test.csv
      hash: md5
      md5: d37dae9011f66d66b708cddf09c8626a
      size: 199775
    - path: ./data/extended/extended_train.csv
      hash: md5
      md5: 0e07a6ab0d86c0429536a3e4bef19a45
      size: 602773
  train_model:
    cmd: python ./src/models/train_model.py
    deps:
    - path: ./data/extended/extended_test.csv
      hash: md5
      md5: d37dae9011f66d66b708cddf09c8626a
      size: 199775
    - path: ./data/extended/extended_train.csv
      hash: md5
      md5: 0e07a6ab0d86c0429536a3e4bef19a45
      size: 602773
    - path: ./src/models/train_model.py
      hash: md5
      md5: 026b5da88dbce1cb7db6e23e9a0650f0
      size: 4196
    params:
      params.yaml:
        base.target: quality
        build_features.extended_data: /data/extended
        train_model.criterion: gini
        train_model.max_depth: 45
        train_model.model_dir: /models
        train_model.n_estimators: 90
        train_model.seed: 46
    outs:
    - path: ./models/model.joblib
      hash: md5
      md5: 8c4d4a0d7aa99098e913631f1f846ccc
      size: 6661993
  predict_model:
    cmd: python ./src/models/predict_model.py
    deps:
    - path: ./models/model.joblib
      hash: md5
      md5: 8c4d4a0d7aa99098e913631f1f846ccc
      size: 6661993
    - path: ./src/models/predict_model.py
      hash: md5
      md5: 56d234b3a85ba656eda2a4b9a9580344
      size: 4828
    params:
      params.yaml:
        base.target: quality
        build_features.extended_data: /data/extended
        train_model.model_dir: /models
  visualization:
    cmd: python ./src/visualization/visualize.py
    deps:
    - path: ./models/model.joblib
      hash: md5
      md5: 8c4d4a0d7aa99098e913631f1f846ccc
      size: 6661993
    - path: ./src/visualization/visualize.py
      hash: md5
      md5: 1da622a525c16e2a3a327069943bde04
      size: 3236
    params:
      params.yaml:
        base.target: quality
        build_features.extended_data: /data/extended
        train_model.model_dir: /models
    outs:
    - path: ./plots/
      hash: md5
      md5: 2bb24690776bf6d2735f1c0c0ee07a91.dir
      size: 24104
      nfiles: 1
